<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>æœå‹™æ¡ˆä¾‹å±•ç¤º</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
  <link rel="stylesheet" href="css/cases-style.css" />

  <style>
    /* ===== å…¨åŸŸï¼šç©©å®šèƒŒæ™¯ï¼ˆé¿å…æ‹‰å‹•å‡ºç¾é»‘å¡Šï¼‰ ===== */
    html, body { height: 100%; }
    *, *::before, *::after { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Noto Sans TC', 'Segoe UI', sans-serif;
      color: #f0f0f0;
      background: #1e1f26; /* åªç•™åº•è‰²ï¼Œåœ–ç‰‡æ”¹ç”±å½å…ƒç´ æ‰¿è¼‰ */
    }
    /* èƒŒæ™¯åœ–å±¤ï¼šæ”¾åœ¨ç¬¬ 0 å±¤ */
    body::before{
      content:"";
      position: fixed;
      inset: 0;
      background: url('img/ä½å®…01.jpg') center / cover no-repeat;
      z-index: 0;
      pointer-events: none;   /* ä¸é˜»æ“‹é»æ“Š */
      will-change: transform;
    }
    /* å‰æ™¯å®¹å™¨ï¼šæ‰€æœ‰å…§å®¹æ”¾é€™å±¤ï¼ˆç¢ºä¿è“‹åœ¨èƒŒæ™¯åœ–ä¹‹ä¸Šï¼‰ */
    .page{
      position: relative;
      z-index: 1;
    }
    @media (max-width: 1024px){
      /* è¡Œå‹•è£ç½®é¿å…éƒ¨åˆ†ç€è¦½å™¨ fixed ç ´åœ– */
      body::before{ background-attachment: scroll; }
    }

    /* ===== å°è¦½åˆ— ===== */
    .top-nav {
      background-color: #333;
      color: white;
      padding: 1rem;
      position: sticky;
      top: 0;
      z-index: 1000;
    }
    .nav-container {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .logo { color: white; text-decoration: none; font-size: 1.2rem; font-weight: bold; }
    .logo .mobile-only { display: none; }
    .logo .desktop-only { display: inline; }
    .hamburger {
      font-size: 1.8rem; background: none; color: white; border: none; cursor: pointer; display: none;top: 50%;transform: translateY(-50%);
    }
    .nav-links { list-style: none; display: flex; gap: 1.5rem; margin: 0; padding: 0; }
    .nav-links li a { color: white; text-decoration: none; font-size: 1rem; transition: color 0.3s ease; }
    .nav-links li a:hover { color: #f0c040; }

    @media (max-width: 768px) {
      .hamburger { display: block; }
      .nav-links {
        position: absolute; top: 60px; left: 0; right: 0;
        background-color: #333; flex-direction: column; align-items: center;
        display: none; padding: 1rem 0;
      }
      .nav-links.open { display: flex; }
      .logo .desktop-only { display: none; }
      .logo .mobile-only { display: inline; }
    }

    /* ===== ä¸­é–“æ¡ˆä¾‹å€å¡Šï¼ˆæ–°ç‰ˆï¼‰ ===== */
    :root{ --container:1200px; --nav-h:64px; --radius:12px; --gap:24px; }
    main.site-main{ flex:1; padding:32px 16px 56px; }
    .cases{
      max-width:var(--container); margin:0 auto;
      background:rgba(0,0,0,.55);
      border:1px solid rgba(255,255,255,.06);
      border-radius:var(--radius);
      padding:32px 16px 28px;
    }
    .cases__title{ text-align:center; margin:0 0 24px; }
    p, h1 { line-height: 1.7; letter-spacing: 0.5px; word-spacing: 2px; }

    .grid{ display:grid; gap:var(--gap); grid-template-columns:repeat(12,1fr); }
    .card{
      grid-column:span 4;
      background:rgba(255,255,255,.05);
      border:1px solid rgba(255,255,255,.08);
      border-radius:var(--radius); overflow:hidden; cursor:pointer;
      transition:transform .2s, box-shadow .2s, border-color .2s;
    }
    .card:hover{ transform: translateY(-2px); box-shadow:0 10px 30px rgba(0,0,0,.35); border-color:rgba(255,255,255,.18); }
    .card__img{ width:100%; aspect-ratio:4/3; object-fit:cover; display:block; }
    .card__body{ padding:16px; }
    .card__title{ margin:0 0 8px; font-size:1.05rem; }
    .card__desc{ margin:0; opacity:.95; }
    @media (max-width:1024px){ .card{ grid-column:span 6; } }
    @media (max-width:640px){ .card{ grid-column:span 12; } }

    /* ===== å›é ‚æŒ‰éˆ• ===== */
    #backToTop {
      position: fixed; bottom: 40px; right: 40px; display: none;
      font-size: 1.5rem; padding: 10px 15px; background-color: #333; color: white;
      border: none; border-radius: 50%; cursor: pointer; z-index: 1000;
    }
    #backToTop.show { display: block; }

    /* ===== Modalï¼ˆæ–°ç‰ˆï¼šç”¨ .is-open æ§åˆ¶ï¼‰ ===== */
    .modal{ position:fixed; inset:0; display:none; align-items:center; justify-content:center; z-index:1200; }
    .modal.is-open{ display:flex; }
    .modal__backdrop{ position:absolute; inset:0; background:rgba(0,0,0,.8); z-index:0; }
    .modal__dialog{
      position:relative; z-index:1; width:min(92vw, 840px);
      background:#222; border-radius:12px; padding:20px 20px 24px;
      border:1px solid rgba(255,255,255,.06);
    }
    .modal__close{ position:absolute; top:10px; right:14px; font-size:1.8rem; color:#fff; background:none; border:0; cursor:pointer; z-index:3; }
    .modal__title{ margin:14px 0 6px; }
    .modal__desc{ margin:0 0 6px; opacity:.95; }

    .swiper{ width:100%; height:auto; position:relative; }
    .swiper-slide img{ width:100%; max-height:420px; object-fit:contain; }
    .swiper-button-next, .swiper-button-prev, .swiper-pagination{ z-index:2; }
    .swiper-slide {display: flex;justify-content: center;align-items: center;}
    /* ===== é å°¾ ===== */
    .footer {
      background-color: #f0f0f0;
      padding: 1rem;
      text-align: center;
      font-size: 0.9rem;
      color: #333;
    }
    .footer p {
      font-size: clamp(12px, 2vw, 16px); /* æœ€å° 12pxï¼Œéš¨è¢å¹•å¯¬åº¦è®ŠåŒ–ï¼Œæœ€å¤§ 16px */
      white-space: nowrap;               /* ç¦æ­¢è‡ªå‹•æ›è¡Œ */
      overflow: hidden;                  /* é¿å…è¶…å‡ºå®¹å™¨ */
      text-overflow: ellipsis;           /* è¶…å‡ºæ™‚ç”¨ ... è¡¨ç¤ºï¼Œå¯é¸ */
    }
  </style>
</head>

<body>
  <!-- å‰æ™¯å®¹å™¨é–‹å§‹ï¼šæŠŠæ•´å€‹é é¢å…§å®¹åŒ…èµ·ä¾† -->
  <div class="page">
    <!-- å›é ‚æŒ‰éˆ• -->
    <button id="backToTop" title="å›åˆ°é ‚éƒ¨">â¬†</button>

    <!-- å°è¦½åˆ— -->
    <nav class="top-nav">
      <div class="nav-container">
        <a href="index.html" class="logo"><span class="mobile-only">è£•å‚¢å®¤å…§è£ä¿®æœ‰é™å…¬å¸</span></a>
        <button class="hamburger" id="hamburger" aria-label="é–‹å•Ÿé¸å–®">â˜°</button>
        <ul class="nav-links" id="navMenu">
          <li><a href="index.html">é¦–é </a></li>
          <li><a href="about.html">é—œæ–¼æˆ‘å€‘</a></li>
          <li><a href="services.html">æœå‹™å…§å®¹</a></li>
          <li><a href="cases.html" aria-current="page">æœå‹™æ¡ˆä¾‹</a></li>
          <li><a href="contact.html">è¯çµ¡æˆ‘å€‘</a></li>
          <li><a href="https://www.1111.com.tw/corp/67789982" target="_blank" rel="noopener">åŠ å…¥æˆ‘å€‘</a></li>
        </ul>
      </div>
    </nav>

    <!-- ä¸­é–“æ¡ˆä¾‹å€å¡Š -->
    
    <main class="site-main" id="mainContent" tabindex="-1">
      <section class="cases" aria-labelledby="casesTitle">
        <h1 class="cases__title" id="casesTitle">æœå‹™æ¡ˆä¾‹ç¸½è¦½</h1>
        <div class="grid" id="caseGrid"></div>
      </section>
    </main>

    <!-- Modal -->
    <div class="modal" id="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle" aria-describedby="modalDesc" hidden>
      <div class="modal__backdrop" data-close="backdrop"></div>
      <div class="modal__dialog" tabindex="-1">
        <button class="modal__close" id="modalClose" aria-label="é—œé–‰">Ã—</button>
        <div class="swiper">
          <div class="swiper-wrapper"></div>
          <div class="swiper-pagination"></div>
          <div class="swiper-button-next" aria-label="ä¸‹ä¸€å¼µ"></div>
          <div class="swiper-button-prev" aria-label="ä¸Šä¸€å¼µ"></div>
        </div>
        <h2 class="modal__title" id="modalTitle"></h2>
        <p class="modal__desc" id="modalDesc"></p>
      </div>
    </div>

    <!-- é å°¾ -->
    <footer class="footer">
      <p class="center-text">ç‰ˆæ¬Šæ‰€æœ‰ Â© è£•å‚¢å®¤å…§è£ä¿®æœ‰é™å…¬å¸ï½œDesigned by è¦ç•™å„€ç¿° ç¶²é è¨­è¨ˆ</p>
    </footer>
  </div>
  <!-- å‰æ™¯å®¹å™¨çµæŸ -->

  <!-- å¥—ä»¶ -->
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

  <!-- ç¶²ç«™äº’å‹•ï¼ˆé¸å–® / å›é ‚ï¼‰ -->
  <script>
    // æ¼¢å ¡é¸å–®åˆ‡æ›
    document.getElementById("hamburger").addEventListener("click", function () {
      const menu = document.getElementById("navMenu");
      const open = menu.classList.toggle("open");
      this.setAttribute("aria-expanded", open ? "true" : "false");
    });

    // å›é ‚æŒ‰éˆ•
    window.addEventListener('scroll', function () {
      const btn = document.getElementById("backToTop");
      if (document.body.scrollTop > 300 || document.documentElement.scrollTop > 300) {
        btn.classList.add("show");
      } else {
        btn.classList.remove("show");
      }
    }, { passive: true });
    document.getElementById("backToTop").onclick = function () {
      window.scrollTo({ top: 0, behavior: "smooth" });
    };
  </script>

  <!-- æœå‹™æ¡ˆä¾‹ï¼ˆç§æœ‰ä½œç”¨åŸŸï¼Œé¿å… let swiper é‡è¤‡å®£å‘Šï¼‰ -->
  <script>
  (function () {
    const CASES = [
      { title:"ğŸ”¹ XXé†«é™¢è£ä¿®æ¡ˆ", desc:"æœ¬æ¡ˆç‚ºé†«ç™‚ç©ºé–“æ•´åˆè¨­è¨ˆï¼Œæ¶µè“‹è¨ºé–“ã€å€™è¨ºå®¤èˆ‡ç„¡éšœç¤™å‹•ç·šé…ç½®ã€‚", images:["img/ä½å®…01.jpg","img/ä½å®…02.jpg","img/ä½å®…03.jpg"] },
      { title:"ğŸ”¹ OOä¼æ¥­è¾¦å…¬å®¤", desc:"ä»¥æ©Ÿèƒ½æ€§èˆ‡é–‹æ”¾ç©ºé–“ç‚ºä¸»è»¸ï¼Œè¦åŠƒè¾¦å…¬æ¡Œã€æœƒè­°å®¤èˆ‡æ¥å¾…å€åŸŸã€‚", images:["img/å­¸æ ¡01.jpg","img/å­¸æ ¡02.jpg","img/å­¸æ ¡03.jpg"] },
      { title:"ğŸ”¹ OOä¼æ¥­è¾¦å…¬å®¤", desc:"ä»¥æ©Ÿèƒ½æ€§èˆ‡é–‹æ”¾ç©ºé–“ç‚ºä¸»è»¸ï¼Œè¦åŠƒè¾¦å…¬æ¡Œã€æœƒè­°å®¤èˆ‡æ¥å¾…å€åŸŸã€‚", images:["img/è¾¦å…¬å®¤01.jpg","img/è¾¦å…¬å®¤02.jpg","img/è¾¦å…¬å®¤03.jpg"] },
      { title:"ğŸ”¹ OOä¼æ¥­è¾¦å…¬å®¤", desc:"ä»¥æ©Ÿèƒ½æ€§èˆ‡é–‹æ”¾ç©ºé–“ç‚ºä¸»è»¸ï¼Œè¦åŠƒè¾¦å…¬æ¡Œã€æœƒè­°å®¤èˆ‡æ¥å¾…å€åŸŸã€‚", images:["img/é†«é™¢01.jpg","img/é†«é™¢02.jpg","img/é†«é™¢03.jpg"] },
      { title:"ğŸ”¹ OOä¼æ¥­è¾¦å…¬å®¤", desc:"ä»¥æ©Ÿèƒ½æ€§èˆ‡é–‹æ”¾ç©ºé–“ç‚ºä¸»è»¸ï¼Œè¦åŠƒè¾¦å…¬æ¡Œã€æœƒè­°å®¤èˆ‡æ¥å¾…å€åŸŸã€‚", images:["img/å» æˆ¿01.jpg","img/å» æˆ¿02.jpg","img/å» æˆ¿03.jpg"] },
      { title:"ğŸ”¹ OOä¼æ¥­è¾¦å…¬å®¤", desc:"ä»¥æ©Ÿèƒ½æ€§èˆ‡é–‹æ”¾ç©ºé–“ç‚ºä¸»è»¸ï¼Œè¦åŠƒè¾¦å…¬æ¡Œã€æœƒè­°å®¤èˆ‡æ¥å¾…å€åŸŸã€‚", images:["img/ä½å®¶01.jpg","img/ä½å®¶02.jpg","img/ä½å®¶03.jpg"] }
    ];

    // æ¸²æŸ“å¡ç‰‡
    const grid = document.getElementById('caseGrid');
    grid.innerHTML = CASES.map((c,i)=>`
      <article class="card" data-index="${i}" tabindex="0" aria-labelledby="card-title-${i}">
        <img class="card__img" src="${c.images[0]}" alt="æ¡ˆä¾‹é è¦½ï¼š${c.title}" loading="lazy">
        <div class="card__body">
          <h3 class="card__title" id="card-title-${i}">${c.title}</h3>
          <p class="card__desc">${c.desc}</p>
        </div>
      </article>
    `).join('');

    // Modal + Swiperï¼ˆä¸æ±™æŸ“å…¨åŸŸï¼‰
    const modal = document.getElementById('modal');
    const modalDialog = modal.querySelector('.modal__dialog');
    const modalClose = document.getElementById('modalClose');
    const swiperEl = modal.querySelector('.swiper');
    let swiper;

    function mountSlides(images, title){
      const slides = images.map(src => `<div class="swiper-slide"><img src="${src}" alt="${title} åœ–ç‰‡" loading="lazy"></div>`);
      const paginationEl = modal.querySelector('.swiper-pagination');
      const nextEl = modal.querySelector('.swiper-button-next');
      const prevEl = modal.querySelector('.swiper-button-prev');

      if(!swiper){
        swiper = new Swiper(swiperEl, {
          loop: true,
          pagination: { el: paginationEl },
          navigation: { nextEl, prevEl }
        });
        swiper.appendSlide(slides);
      }else{
        swiper.removeAllSlides();
        swiper.appendSlide(slides);
        swiper.updateSlides();
        swiper.update();
        swiper.navigation.update();
        swiper.pagination.render();
        swiper.pagination.update();
        swiper.slideToLoop(0, 0);
      }
    }

    function openModal(index){
      const item = CASES[index];
      modal.hidden = false;
      modal.classList.add('is-open');

      document.getElementById('modalTitle').textContent = item.title;
      document.getElementById('modalDesc').textContent = item.desc;

      mountSlides(item.images, item.title);

      modalDialog.focus();
      document.addEventListener('keydown', trapFocus);
    }

    function closeModal(){
      modal.classList.remove('is-open');
      modal.hidden = true;
      document.removeEventListener('keydown', trapFocus);
      const main = document.getElementById('mainContent');
      if(main) main.focus({ preventScroll:true });
    }

    // å¡ç‰‡äº‹ä»¶å§”æ´¾ï¼ˆé»æ“Š/Enter é–‹å•Ÿï¼‰
    grid.addEventListener('click', (e)=>{
      const card = e.target.closest('.card');
      if(card) openModal(Number(card.dataset.index));
    });
    grid.addEventListener('keydown', (e)=>{
      if(e.key === 'Enter'){
        const card = e.target.closest('.card');
        if(card) openModal(Number(card.dataset.index));
      }
    });

    // é—œé–‰ Modalï¼šæŒ‰éˆ•ã€èƒŒæ™¯ã€Esc
    modalClose.addEventListener('click', closeModal);
    modal.addEventListener('click', (e)=>{ if(e.target.dataset.close === 'backdrop') closeModal(); });
    document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape' && modal.classList.contains('is-open')) closeModal(); });

    // ç„¦é»é™·é˜±ï¼ˆå¯å­˜å–ï¼‰
    function trapFocus(e){
      if(e.key !== 'Tab' || !modal.classList.contains('is-open')) return;
      const focusables = modalDialog.querySelectorAll('a, button, textarea, input, select, [tabindex]:not([tabindex="-1"])');
      const first = focusables[0];
      const last = focusables[focusables.length - 1];
      if(e.shiftKey && document.activeElement === first){ e.preventDefault(); last.focus(); }
      else if(!e.shiftKey && document.activeElement === last){ e.preventDefault(); first.focus(); }
    }
  })();
  </script>
</body>
</html>
